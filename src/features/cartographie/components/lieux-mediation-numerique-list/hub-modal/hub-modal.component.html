<div
  *ngIf="activateModal$ | async"
  [class.show]="animate$ | async"
  class="modal d-block fade"
  tabindex="-1"
  aria-labelledby="hubModal"
  spellcheck="false"
  aria-modal="true"
  role="dialog">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content overflow-hidden">
      <div class="modal-header bg-primary text-bg-dark">
        <h2 class="modal-title d-flex" id="hubModal">
          <i class="ri-xl ri-information-line me-3"></i>
          <b>Informations Hub</b>
        </h2>
        <button
          type="button"
          class="btn-close btn-close-white opacity-100 small mb-0"
          aria-label="Close"
          (click)="close()"></button>
      </div>
      <div class="bg-white">
        <div class="modal-body col-lg-7 col-12 m-auto">
          <div *ngIf="hub as hub" class="text-center">
            <img
              class="mb-4"
              [src]="assetsConfiguration.path + '/img/logo/hubs/48/' + hub.nom + '.png'"
              [alt]="'Logo' + hub.nom" />
            <h4 class="fw-bold">
              HUB d'inclusion numérique
              <br />
              <span class="text-primary">{{ hub.region }}</span>
            </h4>
            <div class="mt-5 mb-4">
              <span *ngFor="let departement of hub.departements; last as isLast" class="d-inline-block">
                <b>{{ departement.nom }}</b>
                <i>&ensp;({{ departement.numero }})</i>
                <ng-container *ngIf="!isLast">&ensp;-&ensp;</ng-container>
              </span>
            </div>
            <span *ngIf="hub.lieuxCount as lieuxCount" class="rounded-5 bg-light py-1 px-3" [ngPlural]="lieuxCount">
              <i class="ri-map-pin-5-line"></i>
              Ce hub a référencé
              <ng-template ngPluralCase="=1">
                <b>1 lieu</b>
              </ng-template>
              <ng-template ngPluralCase="other">
                <b>{{ lieuxCount }} lieux</b>
              </ng-template>
            </span>
          </div>
          <div class="text-center mt-4">
            <label class="text-muted small">Qu'est ce qu'un Hub territorial ?</label>
            <a
              class="text-decoration-none"
              href="https://societenumerique.gouv.fr/fr/dispositif/hubs-numerique/"
              target="_blank"
              rel="noopener noreferrer">
              <i class="ri ri-external-link-line my-auto me-2 opacity-75 text-muted"></i>
            </a>
          </div>
        </div>
        <div class="modal-footer justify-content-center bg-light">
          <button type="button" class="btn btn-secondary me-3" (click)="close()">
            <i class="ri-arrow-go-back-line"></i>
            Retour à la carte
          </button>
          <a
            *ngIf="hub?.url as href"
            [href]="href"
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-primary"
            (click)="close()">
            Accéder au site
            <i class="ri-external-link-line"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="activateModal$ | async" class="modal-backdrop fade" [class.show]="animate$ | async"></div>
