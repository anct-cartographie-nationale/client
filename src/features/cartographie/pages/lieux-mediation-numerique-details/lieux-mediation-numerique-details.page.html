<div
  *ngIf="(lieuMediationNumerique$ | async) as lieuMediationNumerique; else lieuNotFound"
  tabindex="-1"
  class="h-100 overflow-auto">
  <app-lieux-mediation-numerique-details-print
    [lieuMediationNumerique]="lieuMediationNumerique"
    [filters]="(filters$ | async) ?? undefined"
    [orientationSheetForm]="(orientationSheetForm$ | async) ?? undefined"></app-lieux-mediation-numerique-details-print>
  <app-lieux-mediation-numerique-details
    (print)="onPrint($event)"
    (sendEmailTo)="onSendEmailTo($event)"
    (reportAnError)="onReportAnError(lieuMediationNumerique)"
    (closeDetails)="onCloseDetails($event)"
    (showLabel)="onShowLabel($event); labelModal.toggle()"
    [lieuMediationNumerique]="lieuMediationNumerique"
    [filters]="(filters$ | async) ?? undefined"></app-lieux-mediation-numerique-details>
</div>
<ng-template #lieuNotFound>
  <div class="d-flex flex-column justify-content-between h-100">
    <div class="d-flex align-items-center bg-primary text-bg-dark p-3">
      <div class="d-flex flex-grow-1 p-3">
        <i class="ri-4x ri-xl ri-close-circle-line me-3 mt-1" aria-hidden="true"></i>
        <div>
          <p class="m-0">Erreur</p>
          <h2 class="bg-primary">
            <b>Lieu introuvable</b>
          </h2>
        </div>
      </div>
      <button
        type="button"
        class="btn-close btn-close-white opacity-100 small mb-0 me-2"
        aria-label="Revenir à la liste des régions"
        (click)="onCloseNoLieuFound()"></button>
    </div>
    <div class="text-center p-3">
      <img *ngIf="brandConfiguration.logo; else brandLogo" class="mb-5 w-50" [src]="brandConfiguration.logo" alt="" />
      <ng-template #brandLogo>
        <img *ngIf="brandConfiguration.logoAvecTexte" class="mb-5 w-50" [src]="brandConfiguration.logoAvecTexte" alt="" />
      </ng-template>
      <h3 class="mb-5 fw-bold">
        Ce lieu
        <br />
        <span class="text-primary">n’est plus disponible</span>
      </h3>
      <div>
        <p>Nous sommes désolés, ce lieu n'existe pas ou n'existe plus !</p>
        <p>
          Vous pouvez rechercher d'autres lieux en naviguant sur la carte
          <br />
          ou revenir à la page d'accueil et effectuer un parcours d'orientation.
        </p>
      </div>
    </div>
    <div class="bg-light text-center py-5">
      <a class="btn btn-secondary" routerLink="/orientation" queryParamsHandling="preserve">
        Revenir à la page d'accueil
        <i class="ri-arrow-right-s-line" aria-hidden="true"></i>
      </a>
    </div>
  </div>
</ng-template>
<app-label-modal #labelModal [label]="labelToDisplay$ | async"></app-label-modal>
