<div class="h-100 d-flex flex-column">
  <app-sort (sortChange)="onSortChange($event)"></app-sort>
  <ng-container *ngIf="coordinateurs$ | async as coordinateurs">
    <div *ngIf="coordinateurs.length" class="list-group list-group-flush flex-grow-1 overflow-auto" tabindex="-1">
      <a
        *ngFor="let coordinateur of coordinateurs; trackBy: trackByCoordinateurId"
        [routerLink]="[coordinateur.id, 'details']"
        [relativeTo]="route.parent"
        [attr.id]="coordinateur.id"
        [class.list-group-item-hover]="(markersPresenter.highlighted$ | async) === coordinateur.id"
        (mouseover)="markersPresenter.highlight(coordinateur.id)"
        (mouseout)="markersPresenter.highlight('')"
        class="list-group-item link-dark p-4">
        <div class="row">
          <div style="width: 38px" class="col-auto p-0 m-auto text-center">
            <img [src]="assetsConfiguration.path + '/img/coordinateurs/' + coordinateur.perimetre + '.svg'" alt="" />
          </div>
          <div class="col">
            <b class="text-primary">
              Coordinateur
              <span class="text-lowercase">{{ coordinateur.perimetre}}</span>
            </b>
            <h5 class="mb-0 fw-bold">{{ coordinateur.prenom }} {{ coordinateur.nom }}</h5>
          </div>
          <div class="col-auto text-end fst-italic">
            <small>
              {{ coordinateur.nombreDePersonnesCoordonnees }}
              <ng-container [ngPlural]="coordinateur.nombreDePersonnesCoordonnees">
                <ng-template ngPluralCase="1">conseiller numérique</ng-template>
                <ng-template ngPluralCase="other">conseillers numériques</ng-template>
              </ng-container>
            </small>
            <br />
            <small>{{ coordinateur.commune }} ({{ coordinateur.codePostal }})</small>
          </div>
        </div>
      </a>
    </div>
  </ng-container>
</div>
