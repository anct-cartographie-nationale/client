<div class="form" fxLayout="column">
  <app-modal-confirmation
    [openned]="showConfirmationModal"
    [content]="'Il vous faudra de nouveau remplir le formulaire si vous quittez'"
    (closed)="hasRedirectionAccepted($event)"
  ></app-modal-confirmation>
  <div class="content" *ngIf="!isLoading" [ngClass]="{ editMode: isEditMode }">
    <div class="headerEditMode" *ngIf="isEditMode" fxLayout="row" fxLayoutAlign="space-between center">
      <h2 class="no-margin">Modification de {{ editForm.get('structureName').value }}</h2>
      <app-structure-options-modal
        [structure]="structureWithOwners"
        [isEditFormView]="true"
        (closed)="structureDeleted()"
      ></app-structure-options-modal>
    </div>
    <div class="returnBtnSection" *ngIf="isEditMode && currentPage != 0">
      <button class="btn-primary previous" (click)="goToSpecificPage(0, false)">
        <div class="rowBtn" fxLayout="row" fxLayoutAlign="center center">
          <svg class="chevronLeft" aria-hidden="true">
            <use [attr.xlink:href]="'assets/form/sprite.svg#chevronLeft'"></use>
          </svg>
          Retour
        </div>
      </button>
    </div>
    <div
      class="progressBar"
      *ngIf="currentPage != 0 && !isEditMode"
      fxLayout="row"
      fxLayoutAlign="space-between center"
      fxLayoutGap="20px"
    >
      <label [ngClass]="{ validate: currentPage == nbPagesForm }" for="progressForm"
        >{{ progressStatus | number: '1.0-0' }}%
      </label>
      <progress
        id="progressForm"
        [ngClass]="{ validate: currentPage == nbPagesForm }"
        max="100"
        [value]="progressStatus"
      ></progress>
    </div>
    <div *ngIf="displayAddStructure()" class="home page" fxLayout="column" fxLayoutAlign="space-between">
      <h2>Ajouter votre structure</h2>
      <img src="../../assets/form/schedule.svg" alt="logo schedule" />
      <div>
        <p class="titleDesc">Cela va prendre une quinzaine de minutes</p>
        <p>Une fois réalisé cela vous permettra d'être référencé sur la platefome</p>
      </div>
      <app-footer-form
        class="btnStart"
        [btnName]="['Précédent', 'C\'est parti']"
        (previousPage)="previousUrl()"
        (nextPage)="nextPage()"
        [isValid]="isPageValid"
      ></app-footer-form>
    </div>
    <div
      *ngIf="displayClaimStructure()"
      class="home page"
      fxLayout="column"
      fxLayoutAlign="space-between center"
      fxLayoutAlign.lt-sm="center"
    >
      <h2>
        {{ isJoinMode ? 'Rejoindre' : 'Revendiquer' }} la structure <span>{{ claimStructure.structureName }}</span>
      </h2>
      <div>
        <p>Une fois réalisé cela vous permettra de devenir propriétaire de cette structure</p>
      </div>
      <app-footer-form
        class="btnStart"
        [btnName]="['Précédent', 'C\'est parti']"
        (previousPage)="previousUrl()"
        (nextPage)="nextPage()"
        [isValid]="isPageValid"
      ></app-footer-form>
    </div>
    <div
      *ngIf="currentPage == pageTypeEnum.summary && isEditMode"
      class="editHome page"
      fxLayout="column"
      fxLayoutAlign="space-between"
    >
      <div class="summary" *ngFor="let page of pagesValidation; let index = index">
        <div
          class="itemSummary"
          [ngClass]="{ last: index == 22 }"
          fxLayout="row"
          fxLayoutAlign="space-between center"
          *ngIf="page.name && shouldDisplayPage(index)"
          (click)="goToSpecificPage(index, false)"
        >
          {{ page.name }}
          <div fxLayout="row" fxLayoutAlign="space-between center">
            <app-svg-icon
              *ngIf="!updatePageValid(index, page)"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
            <svg class="chevronRight" aria-hidden="true">
              <use [attr.xlink:href]="'assets/form/sprite.svg#chevronRight'"></use>
            </svg>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="currentPage == pageTypeEnum.info" class="informations page" fxLayout="column" fxLayoutGap="28px">
      <h3>De quelles informations faut-il vous munir ?</h3>
      <img src="../../assets/form/factures.svg" alt="logo factures" />
      <div>
        <ul>
          <li><span>les coordonnées de votre structure</span></li>

          <li><span>les horaires d’ouverture</span></li>

          <li><span>la liste des ateliers que vous dispensez (optionnel)</span></li>
        </ul>
      </div>
    </div>
    <form
      [formGroup]="accountForm"
      *ngIf="accountForm && !profile"
      (keyup.enter)="isPageValid && !isEditMode ? nextPage() : null"
    >
      <div *ngIf="currentPage == pageTypeEnum.accountInfo" class="page">
        <div class="title">
          <h3>Qui êtes-vous ?</h3>
          <p>Ces informations ne seront pas visibles sur la plateforme</p>
        </div>
        <div *ngIf="!isClaimMode" class="title">
          <h4>Vous possédez déja un compte ? Connectez-vous :</h4>
          <button class="btn-primary small next" *ngIf="!isLoggedIn" (click)="isPopUpOpen = !isPopUpOpen">
            Se connecter
          </button>
          <h4>Sinon, inscrivez-vous en suivant le formulaire ci-dessous :</h4>
        </div>
        <div class="form-group" fxLayout="column">
          <label for="surname">Nom</label>
          <div fxLayout="row" fxLayoutGap="13px">
            <input type="text" (input)="setValidationsForm()" formControlName="surname" class="form-input" />
            <app-svg-icon
              *ngIf="accountForm.get('surname').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="accountForm.get('surname').invalid && accountForm.get('surname').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
          </div>
        </div>
        <div class="form-group" fxLayout="column">
          <label for="name">Prénom</label>
          <div fxLayout="row" fxLayoutGap="13px">
            <input type="text" (input)="setValidationsForm()" formControlName="name" class="form-input" />
            <app-svg-icon
              *ngIf="accountForm.get('name').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="accountForm.get('name').invalid && accountForm.get('name').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
          </div>
        </div>
        <div class="form-group" fxLayout="column">
          <label for="phone">Téléphone</label>
          <div fxLayout="row" fxLayoutGap="13px">
            <input
              type="text"
              formControlName="phone"
              class="form-input phone"
              (input)="utils.modifyPhoneInput(accountForm, 'phone', $event.target.value)"
            />
            <app-svg-icon
              *ngIf="accountForm.get('phone').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="accountForm.get('phone').invalid && accountForm.get('phone').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
          </div>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.accountCredentials" class="page">
        <div class="title">
          <h3>Quels identifiants utiliserez-vous pour vous connecter ?</h3>
        </div>
        <div class="form-group" fxLayout="column">
          <label for="email">Courriel du compte</label>
          <p class="special invalid" *ngIf="this.accountForm.get('email').hasError('alreadyExist')">
            L'email est déja utilisé.
          </p>
          <div fxLayout="row" fxLayoutGap="13px">
            <input
              type="text"
              (input)="setValidationsForm()"
              (keyup)="verifyUserExist($event.target.value)"
              formControlName="email"
              placeholder="exemple: prenom.nom@grandlyon.com"
              class="form-input email-placeholder"
              [readonly]="isAccountMode"
              [ngClass]="{ disabled: isAccountMode }"
            />
            <app-svg-icon
              *ngIf="accountForm.get('email').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="accountForm.get('email').invalid && accountForm.get('email').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
          </div>
        </div>
        <div class="form-group" fxLayout="column">
          <label for="password">Création de mot de passe</label>
          <p
            class="special"
            [ngClass]="{ invalid: accountForm.get('password').invalid && accountForm.get('password').value }"
          ></p>
          Le mot de passe doit contenir au minimum :
          <ul>
            <li
              [ngClass]="{
                invalid: accountForm.get('password').value.length < 8,
                valid: accountForm.get('password').value.length >= 8
              }"
              class=""
            >
              <app-svg-icon
                *ngIf="accountForm.get('password').value.length >= 8"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'validate'"
              ></app-svg-icon>
              <app-svg-icon
                *ngIf="accountForm.get('password').value.length < 8"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'notValidate'"
              ></app-svg-icon>
              <p>8 caractères</p>
            </li>
            <li
              [ngClass]="{
                invalid: !checkIfPasswordHasSpecialChar(accountForm.get('password').value),
                valid: checkIfPasswordHasSpecialChar(accountForm.get('password').value)
              }"
            >
              <app-svg-icon
                *ngIf="checkIfPasswordHasSpecialChar(accountForm.get('password').value)"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'validate'"
              ></app-svg-icon>
              <app-svg-icon
                *ngIf="!checkIfPasswordHasSpecialChar(accountForm.get('password').value)"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'notValidate'"
              ></app-svg-icon>
              <p>un caractère spécial</p>
            </li>
            <li
              [ngClass]="{
                invalid: !checkIfPasswordHasLowerCase(accountForm.get('password').value),
                valid: checkIfPasswordHasLowerCase(accountForm.get('password').value)
              }"
            >
              <app-svg-icon
                *ngIf="checkIfPasswordHasLowerCase(accountForm.get('password').value)"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'validate'"
              ></app-svg-icon>
              <app-svg-icon
                *ngIf="!checkIfPasswordHasLowerCase(accountForm.get('password').value); s"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'notValidate'"
              ></app-svg-icon>
              <p>un caractère en minuscule</p>
            </li>
            <li
              [ngClass]="{
                invalid: !checkIfPasswordHasUpperCase(accountForm.get('password').value),
                valid: checkIfPasswordHasUpperCase(accountForm.get('password').value)
              }"
            >
              <app-svg-icon
                *ngIf="checkIfPasswordHasUpperCase(accountForm.get('password').value)"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'validate'"
              ></app-svg-icon>
              <app-svg-icon
                *ngIf="!checkIfPasswordHasUpperCase(accountForm.get('password').value); s"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'notValidate'"
              ></app-svg-icon>
              <p>un caractère en majuscule</p>
            </li>
            <li
              [ngClass]="{
                invalid: !checkIfPasswordHasDigit(accountForm.get('password').value),
                valid: checkIfPasswordHasDigit(accountForm.get('password').value)
              }"
            >
              <app-svg-icon
                *ngIf="checkIfPasswordHasDigit(accountForm.get('password').value)"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'validate'"
              ></app-svg-icon>
              <app-svg-icon
                *ngIf="!checkIfPasswordHasDigit(accountForm.get('password').value)"
                [iconClass]="'validation-small'"
                [type]="'form'"
                [icon]="'notValidate'"
              ></app-svg-icon>
              <p>un chiffre</p>
            </li>
          </ul>
          <div fxLayout="row" fxLayoutAlign="none center" fxLayoutGap="13px">
            <input
              [type]="isShowPassword ? 'text' : 'password'"
              formControlName="password"
              class="form-input password"
              (input)="setValidationsForm()"
              autocomplete="on"
            />
            <app-svg-icon
              [iconClass]="'validation grey hover'"
              [type]="'form'"
              [icon]="'eyePassword'"
              (click)="showPassword()"
            ></app-svg-icon>

            <app-svg-icon
              *ngIf="accountForm.get('password').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="accountForm.get('password').invalid && accountForm.get('password').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
          </div>
        </div>
        <div class="form-group" fxLayout="column">
          <label for="confirmPassword">Vérification du mot de passe</label>
          <div fxLayout="row" fxLayoutAlign="none center" fxLayoutGap="13px">
            <input
              [type]="isShowConfirmPassword ? 'text' : 'password'"
              formControlName="confirmPassword"
              class="form-input password"
              (input)="setValidationsForm()"
              autocomplete="on"
            />
            <app-svg-icon
              [iconClass]="'validation grey hover'"
              [type]="'form'"
              [icon]="'eyePassword'"
              (click)="showConfirmPassword()"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="accountForm.get('confirmPassword').valid && accountForm.get('confirmPassword').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="accountForm.get('confirmPassword').invalid && accountForm.get('confirmPassword').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
          </div>
        </div>
      </div>
    </form>
    <form
      [formGroup]="structureForm"
      *ngIf="structureForm"
      (keyup.enter)="isPageValid && !isEditMode ? nextPage() : null"
    >
      <div *ngIf="currentPage == pageTypeEnum.structureNameAndAddress" class="page">
        <div class="title">
          <h3>Quelle structure voulez-vous réferencer ?</h3>
        </div>
        <p
          class="missing-information"
          *ngIf="isEditMode && (!getStructureControl('structureName').valid || !getStructureControl('address').valid)"
        >
          <app-svg-icon
            [iconClass]="'validation'"
            [type]="'form'"
            [icon]="'notValidate'"
            class="validationIcon"
          ></app-svg-icon>
          <span>Il faut renseigner tous les champs</span>
        </p>
        <div class="form-group" fxLayout="column">
          <label for="structureName">Nom de la structure</label>
          <div fxLayout="row" fxLayoutGap="13px">
            <input
              type="text"
              (input)="setValidationsForm()"
              formControlName="structureName"
              class="form-input structureName"
            />
            <app-svg-icon
              *ngIf="getStructureControl('structureName').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
          </div>
        </div>
        <div class="form-group" fxLayout="column">
          <label for="address">Adresse de la structure</label>

          <div class="addressRow" fxLayout="row" fxLayoutGap="13px">
            <app-address-autocomplete
              [address]="getStructureControl('address').valid ? getStructureControl('address').value : null"
              (inputAddress)="setAddressStructure()"
              (selectedAddress)="setAddressStructure($event)"
            ></app-address-autocomplete>
            <app-svg-icon
              *ngIf="getStructureControl('address').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
              class="validateIcon"
            ></app-svg-icon>
          </div>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structurePhone" class="page">
        <div class="title">
          <h3>Comment joindre votre structure ?</h3>
        </div>
        <p
          class="missing-information"
          *ngIf="
            isEditMode && (!getStructureControl('contactPhone').valid || !getStructureControl('contactMail').valid)
          "
        >
          <app-svg-icon
            [iconClass]="'validation'"
            [type]="'form'"
            [icon]="'notValidate'"
            class="validationIcon"
          ></app-svg-icon>
          <span>Il faut renseigner tous les champs</span>
        </p>
        <div class="form-group" fxLayout="column">
          <label for="contactPhone">Téléphone de la structure</label>
          <div fxLayout="row" fxLayoutGap="13px">
            <input
              type="text"
              formControlName="contactPhone"
              class="form-input"
              (input)="utils.modifyPhoneInput(structureForm, 'contactPhone', $event.target.value)"
            />
            <app-svg-icon
              *ngIf="getStructureControl('contactPhone').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="getStructureControl('contactPhone').invalid && getStructureControl('contactPhone').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
          </div>
        </div>
        <div class="form-group" fxLayout="column">
          <label for="structureName">Courriel de la structure</label>
          <div fxLayout="row" fxLayoutGap="13px">
            <input type="text" (input)="setValidationsForm()" formControlName="contactMail" class="form-input" />
            <app-svg-icon
              *ngIf="getStructureControl('contactMail').valid"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'validate'"
            ></app-svg-icon>
            <app-svg-icon
              *ngIf="getStructureControl('contactMail').invalid && getStructureControl('contactMail').value"
              [iconClass]="'validation'"
              [type]="'form'"
              [icon]="'notValidate'"
            ></app-svg-icon>
          </div>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureType" class="page" fxLayout="column">
        <div class="title">
          <h3>Quel type de structure ?</h3>
          <p>1 seul choix possible</p>
        </div>
        <p class="missing-information" *ngIf="isEditMode && !getStructureControl('structureType').valid">
          <app-svg-icon
            [iconClass]="'validation'"
            [type]="'form'"
            [icon]="'notValidate'"
            class="validationIcon"
          ></app-svg-icon>
          <span>Il faut renseigner un champ</span>
        </p>
        <div class="type-picker">
          <app-structure-type-picker
            [pickedChoice]="
              getStructureControl('structureType').valid ? getStructureControl('structureType').value : null
            "
            (selectedType)="setTypeStructure($event)"
          ></app-structure-type-picker>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureAccessModality" class="page">
        <div class="title">
          <h3>Quelles sont les modalités d'accueil ?</h3>
          <p>Plusieurs choix possibles</p>
        </div>
        <p class="missing-information" *ngIf="isEditMode && !getStructureControl('accessModality').valid">
          <app-svg-icon
            [iconClass]="'validation'"
            [type]="'form'"
            [icon]="'notValidate'"
            class="validationIcon"
          ></app-svg-icon>
          <span>Il faut renseigner au moins un champ</span>
        </p>
        <div *ngIf="accessModality" fxLayout="row wrap" fxLayoutGap="16px" fxLayoutAlign="flex-start">
          <app-checkbox-form
            *ngFor="let module of accessModality.modules"
            [isChecked]="isInArray(module.id, accessModality.id)"
            [text]="module.text"
            [iconSvg]="module.id"
            (checkEvent)="onCheckChange($event, accessModality.id, module.id)"
          >
          </app-checkbox-form>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureHours" class="page">
        <div class="section">
          <div class="title">
            <h3>Quels sont les horaires d'ouverture ?</h3>
            <p class="notRequired">facultatif</p>
          </div>
          <app-hour-picker
            *ngIf="hoursForm"
            (updateForm)="updateHours($event)"
            (updateFormError)="setHoursError()"
            [structureInput]="hoursForm"
          ></app-hour-picker>
        </div>
        <div>
          <div class="title">
            <h3>Avez-vous des précisions à apporter sur les horaires ?</h3>
            <p class="notRequired">facultatif</p>
          </div>
          <div class="textareaBlock" fxLayout="column">
            <textarea
              rows="8"
              placeholder="Exemple : nous ne sommes ouvert que le 1er mercredi du mois."
              maxlength="500"
              formControlName="exceptionalClosures"
            ></textarea>
            <p>
              {{
                getStructureControl('exceptionalClosures').value
                  ? getStructureControl('exceptionalClosures').value.length
                  : 0
              }}/500
            </p>
          </div>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structurePmr" class="page">
        <div class="title">
          <h3>Est-ce accessible pour les personnes à mobilité réduite ?</h3>
        </div>
        <p class="missing-information" *ngIf="isEditMode && !getStructureControl('pmrAccess').valid">
          <app-svg-icon
            [iconClass]="'validation'"
            [type]="'form'"
            [icon]="'notValidate'"
            class="validationIcon"
          ></app-svg-icon>
          <span>Il faut renseigner un champ</span>
        </p>
        <app-radio-form
          [selectedOption]="getStructureControl('pmrAccess').value"
          (selectedEvent)="onRadioBtnChange('pmrAccess', $event)"
        >
        </app-radio-form>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureWebAndSocialNetwork" class="page">
        <div class="title">
          <h3>Comment vous trouver sur internet ?</h3>
          <p class="notRequired">facultatif</p>
        </div>
        <div class="collapse" [ngClass]="{ notCollapsed: !showWebsite }">
          <div fxLayout="column">
            <div class="collapseHeader" fxLayout="row" fxLayoutAlign=" center" (click)="toggleWebSite()">
              <div class="titleCollapse">
                <p [ngClass]="{ show: showWebsite, hide: !showWebsite }" class="no-margin">J'ajoute un site web</p>
                <p [ngClass]="{ show: !showWebsite, hide: showWebsite }" class="no-margin">Je retire un site web</p>
              </div>
              <div class="logo">
                <svg class="show" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#show'"></use>
                </svg>
                <svg class="hide" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#hide'"></use>
                </svg>
              </div>
            </div>
            <div *ngIf="showWebsite" class="inputSection">
              <div class="form-group website" fxLayout="column">
                <label for="website">Adresse du site web</label>
                <div fxLayout="row" fxLayoutGap="27px">
                  <input
                    type="text"
                    placeholder="www.resin.grandlyon.com"
                    (input)="setValidationsForm()"
                    formControlName="website"
                    class="form-input"
                  />
                  <app-svg-icon
                    *ngIf="getStructureControl('website').valid && getStructureControl('website').value"
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'validate'"
                    class="validationIcon"
                  ></app-svg-icon>
                  <app-svg-icon
                    *ngIf="getStructureControl('website').invalid"
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'notValidate'"
                    class="validationIcon"
                  ></app-svg-icon>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="collapse" [ngClass]="{ notCollapsed: !showSocialNetwork }">
          <div fxLayout="column">
            <div class="collapseHeader" fxLayout="row" fxLayoutAlign=" center" (click)="toggleSocialNetwork()">
              <div class="titleCollapse">
                <p [ngClass]="{ show: showSocialNetwork, hide: !showSocialNetwork }" class="no-margin">
                  J’ajoute les réseaux sociaux
                </p>
                <p [ngClass]="{ show: !showSocialNetwork, hide: showSocialNetwork }" class="no-margin">
                  Je retire des réseaux sociaux
                </p>
              </div>
              <div class="logo">
                <svg class="show" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#show'"></use>
                </svg>
                <svg class="hide" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#hide'"></use>
                </svg>
              </div>
            </div>
            <div *ngIf="showSocialNetwork" class="inputSection">
              <div class="form-group facebook">
                <div fxLayout="row" fxLayoutGap="27px">
                  <svg class="facebook" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#facebook'"></use>
                  </svg>
                  <input
                    type="text"
                    (input)="setValidationsForm()"
                    placeholder="facebook.com/resin"
                    formControlName="facebook"
                    class="form-input withIcon"
                  />
                  <app-svg-icon
                    *ngIf="
                      getStructureControl('facebook').valid &&
                      getStructureControl('facebook').value != null &&
                      getStructureControl('facebook').value != ''
                    "
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'validate'"
                    class="validationIcon"
                  ></app-svg-icon>
                  <app-svg-icon
                    *ngIf="getStructureControl('facebook').invalid"
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'notValidate'"
                    class="validationIcon"
                  ></app-svg-icon>
                </div>
              </div>
              <div class="form-group twitter">
                <div fxLayout="row" fxLayoutGap="27px">
                  <svg class="twitter" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#twitter'"></use>
                  </svg>
                  <input
                    type="text"
                    (input)="setValidationsForm()"
                    placeholder="twitter.com/resin"
                    formControlName="twitter"
                    class="form-input withIcon"
                  />
                  <app-svg-icon
                    *ngIf="
                      getStructureControl('twitter').valid &&
                      getStructureControl('twitter').value != null &&
                      getStructureControl('twitter').value != ''
                    "
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'validate'"
                    class="validationIcon"
                  ></app-svg-icon>
                  <app-svg-icon
                    *ngIf="getStructureControl('twitter').invalid"
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'notValidate'"
                    class="validationIcon"
                  ></app-svg-icon>
                </div>
              </div>
              <div class="form-group instagram">
                <div fxLayout="row" fxLayoutGap="27px">
                  <svg class="instagram" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#instagram'"></use>
                  </svg>
                  <input
                    type="text"
                    (input)="setValidationsForm()"
                    formControlName="instagram"
                    placeholder="instagram.com/resin"
                    class="form-input withIcon"
                  />

                  <app-svg-icon
                    *ngIf="
                      getStructureControl('instagram').valid &&
                      getStructureControl('instagram').value != null &&
                      getStructureControl('instagram').value != ''
                    "
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'validate'"
                    class="validationIcon"
                  ></app-svg-icon>
                  <app-svg-icon
                    *ngIf="getStructureControl('instagram').invalid"
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'notValidate'"
                    class="validationIcon"
                  ></app-svg-icon>
                </div>
              </div>
              <div class="form-group linkedin">
                <div fxLayout="row" fxLayoutGap="27px">
                  <svg class="linkedin" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#linkedin'"></use>
                  </svg>
                  <input
                    type="text"
                    (input)="setValidationsForm()"
                    formControlName="linkedin"
                    placeholder="linkedin.com/in/resin"
                    class="form-input withIcon"
                  />
                  <app-svg-icon
                    *ngIf="
                      getStructureControl('linkedin').valid &&
                      getStructureControl('linkedin').value != null &&
                      getStructureControl('linkedin').value != ''
                    "
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'validate'"
                    class="validationIcon"
                  ></app-svg-icon>
                  <app-svg-icon
                    *ngIf="getStructureControl('linkedin').invalid"
                    [iconClass]="'validation'"
                    [type]="'form'"
                    [icon]="'notValidate'"
                    class="validationIcon"
                  ></app-svg-icon>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structurePublicTarget" class="page">
        <div class="title">
          <h3>Quel public peut venir vous consulter ?</h3>
          <p>Plusieurs choix possibles</p>
        </div>
        <p class="missing-information" *ngIf="isEditMode && !getStructureControl('publics').valid">
          <app-svg-icon
            [iconClass]="'validation'"
            [type]="'form'"
            [icon]="'notValidate'"
            class="validationIcon"
          ></app-svg-icon>
          <span>Il faut renseigner au moins un champ</span>
        </p>
        <div class="tags" *ngIf="publics">
          <button
            *ngFor="let choice of publics.modules"
            (click)="updateChoice(choice.id, 'publics')"
            [ngClass]="{ selectedChoice: isInArray(choice.id, 'publics') }"
          >
            <div fxLayout="row" fxLayoutAlign=" center">
              <svg class="validate" aria-hidden="true">
                <use [attr.xlink:href]="'assets/form/sprite.svg#checkVector'"></use>
              </svg>
              <div class="textBtn">
                {{ choice.text }}
              </div>
            </div>
          </button>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureAccompaniment" class="page">
        <div class="title">
          <h3>Quel(s) accompagnement(s) proposez-vous ?</h3>
          <p class="notRequired">facultatif</p>
        </div>
        <div class="collapse" [ngClass]="{ notCollapsed: !showProceduresAccompaniment }">
          <div fxLayout="column">
            <div
              class="collapseHeader"
              fxLayout="row"
              fxLayoutGap="20px"
              fxLayoutAlign=" center"
              (click)="toggleProceduresAccompaniment()"
            >
              <div class="titleCollapse">Démarches en ligne</div>
              <div class="logo">
                <svg class="show" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#show'"></use>
                </svg>
                <svg class="hide" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#hide'"></use>
                </svg>
              </div>
            </div>
            <div *ngIf="showProceduresAccompaniment && publics" class="tags">
              <button
                *ngFor="let choice of proceduresAccompaniment.modules"
                (click)="updateChoice(choice.id, 'proceduresAccompaniment')"
                [ngClass]="{ selectedChoice: isInArray(choice.id, 'proceduresAccompaniment') }"
              >
                <div fxLayout="row" fxLayoutAlign=" center">
                  <svg class="validate" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#checkVector'"></use>
                  </svg>
                  <div class="textBtn">
                    {{ choice.text }}
                  </div>
                </div>
              </button>
            </div>
          </div>
        </div>
        <div class="collapse" [ngClass]="{ notCollapsed: !showPublicsAccompaniment }">
          <div fxLayout="column">
            <div
              class="collapseHeader"
              fxLayout="row"
              fxLayoutGap="20px"
              fxLayoutAlign=" center"
              (click)="togglePublicsAccompaniment()"
            >
              <div class="titleCollapse">Publics spécifiques (handicap...) ?</div>
              <div class="logo">
                <svg class="show" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#show'"></use>
                </svg>
                <svg class="hide" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#hide'"></use>
                </svg>
              </div>
            </div>
            <div *ngIf="showPublicsAccompaniment && publics" class="tags">
              <button
                *ngFor="let choice of publicsAccompaniment.modules"
                (click)="updateChoice(choice.id, 'publicsAccompaniment')"
                [ngClass]="{ selectedChoice: isInArray(choice.id, 'publicsAccompaniment') }"
              >
                <div fxLayout="row" fxLayoutAlign=" center">
                  <svg class="validate" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#checkVector'"></use>
                  </svg>
                  <div class="textBtn">
                    {{ choice.text }}
                  </div>
                </div>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureOtherAccompaniment" class="page">
        <div class="title">
          <h3>Quelles sont les autres démarches ?</h3>
        </div>
        <div class="textareaBlock" fxLayout="column">
          <textarea
            rows="8"
            placeholder="Exemple : tout ce qui est en lien avec la création d'entreprise..."
            maxlength="500"
            formControlName="otherDescription"
            (input)="setValidationsForm()"
          ></textarea>
          <p>
            {{
              getStructureControl('otherDescription').value ? getStructureControl('otherDescription').value.length : 0
            }}/500
          </p>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureRemoteAccompaniment" class="page">
        <div class="title">
          <h3>Proposez vous un accompagnement à distance ?</h3>
        </div>
        <p class="missing-information" *ngIf="isEditMode && !getStructureControl('remoteAccompaniment').valid">
          <app-svg-icon
            [iconClass]="'validation'"
            [type]="'form'"
            [icon]="'notValidate'"
            class="validationIcon"
          ></app-svg-icon>
          <span>Il faut renseigner un champ</span>
        </p>
        <app-radio-form
          [selectedOption]="getStructureControl('remoteAccompaniment').value"
          (selectedEvent)="onRadioBtnChange('remoteAccompaniment', $event)"
        >
        </app-radio-form>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureWorkshop" class="page">
        <div class="title">
          <h3>Quel(s) atelier(s) au numérique proposez-vous ?</h3>
          <p class="notRequired">facultatif</p>
        </div>
        <div class="collapse" *ngFor="let categ of trainingCategories" [ngClass]="{ notCollapsed: !categ.openned }">
          <div fxLayout="column">
            <div
              class="collapseHeader"
              fxLayout="row"
              fxLayoutGap="20px"
              fxLayoutAlign=" center"
              (click)="toggleTrainingCategories(categ)"
            >
              <div class="titleCollapse">{{ categ.category.name }}</div>
              <div class="logo">
                <svg class="show" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#show'"></use>
                </svg>
                <svg class="hide" aria-hidden="true">
                  <use [attr.xlink:href]="'assets/form/sprite.svg#hide'"></use>
                </svg>
              </div>
            </div>
            <div *ngIf="categ.openned" class="tags">
              <button
                *ngFor="let choice of categ.category.modules"
                (click)="updateChoice(choice.id, categ.category.id)"
                [ngClass]="{ selectedChoice: isInArray(choice.id, categ.category.id) }"
              >
                <div fxLayout="row" fxLayoutAlign=" center">
                  <svg class="validate" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#checkVector'"></use>
                  </svg>
                  <div class="textBtn">
                    {{ choice.text }}
                  </div>
                </div>
              </button>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureWorkshopPrice" class="page">
        <div class="title">
          <h3>Ces ateliers sont-ils gratuits ?</h3>
        </div>
        <app-radio-form
          [selectedOption]="getStructureControl('freeWorkShop').value"
          (selectedEvent)="onRadioBtnChange('freeWorkShop', $event)"
        >
        </app-radio-form>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureWifi" class="page">
        <div class="title">
          <h3>Proposez-vous le wifi en accès libre ?</h3>
        </div>
        <app-radio-form
          [selectedOption]="
            isEditMode
              ? isInArray('wifiEnAccesLibre', 'equipmentsAndServices')
              : isWifiChoosen
              ? isInArray('wifiEnAccesLibre', 'equipmentsAndServices')
              : null
          "
          (selectedEvent)="onCheckChange($event, 'equipmentsAndServices', 'wifiEnAccesLibre')"
        >
        </app-radio-form>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureEquipments" class="page">
        <div class="title">
          <h3>Quel matériel mettez-vous à disposition ?</h3>
          <p class="notRequired">facultatif</p>
        </div>
        <ng-container *ngFor="let equipment of equipmentsAndServices">
          <div
            class="collapse equipments"
            [ngClass]="{ notCollapsed: !equipment.openned }"
            *ngIf="
              ['ordinateurs', 'tablettes', 'bornesNumeriques', 'imprimantes', 'scanners'].includes(equipment.module.id)
            "
          >
            <div fxLayout="column">
              <div
                class="collapseHeader"
                fxLayout="row"
                fxLayoutAlign=" center"
                (click)="toggleEquipmentsServices(equipment)"
              >
                <div class="titleCollapse">
                  <p [ngClass]="{ show: equipment.openned, hide: !equipment.openned }" class="no-margin">
                    Ajouter des {{ equipment.module.text | lowercase }}
                  </p>
                  <p [ngClass]="{ show: !equipment.openned, hide: equipment.openned }" class="no-margin">
                    Retirer les {{ equipment.module.text | lowercase }}
                  </p>
                </div>
                <div class="logo">
                  <svg class="show" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#show'"></use>
                  </svg>
                  <svg class="hide" aria-hidden="true">
                    <use [attr.xlink:href]="'assets/form/sprite.svg#hide'"></use>
                  </svg>
                </div>
              </div>
              <div *ngIf="equipment.openned" class="inputSection">
                <div class="form-group equipments" fxLayout="column">
                  <label for="equipment">Nombre</label>
                  <div fxLayout="row" fxLayoutAlign=" center" fxLayoutGap="27px">
                    <ng-container *ngIf="equipment.module.id == 'ordinateurs'">
                      <input
                        type="number"
                        (input)="setValidationsForm()"
                        formControlName="nbComputers"
                        min="0"
                        class="form-input nbEquipment"
                      />
                      <app-svg-icon
                        *ngIf="getStructureControl('nbComputers').valid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'validate'"
                        class="validationIcon"
                      ></app-svg-icon>
                      <app-svg-icon
                        *ngIf="getStructureControl('nbComputers').invalid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'notValidate'"
                        class="validationIcon"
                      ></app-svg-icon>
                    </ng-container>
                    <ng-container *ngIf="equipment.module.id == 'tablettes'">
                      <input
                        type="number"
                        (input)="setValidationsForm()"
                        formControlName="nbTablets"
                        min="0"
                        class="form-input nbEquipment"
                      />
                      <app-svg-icon
                        *ngIf="getStructureControl('nbTablets').valid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'validate'"
                        class="validationIcon"
                      ></app-svg-icon>
                      <app-svg-icon
                        *ngIf="getStructureControl('nbTablets').invalid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'notValidate'"
                        class="validationIcon"
                      ></app-svg-icon>
                    </ng-container>
                    <ng-container *ngIf="equipment.module.id == 'imprimantes'">
                      <input
                        type="number"
                        (input)="setValidationsForm()"
                        formControlName="nbPrinters"
                        min="0"
                        class="form-input nbEquipment"
                      />
                      <app-svg-icon
                        *ngIf="getStructureControl('nbPrinters').valid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'validate'"
                        class="validationIcon"
                      ></app-svg-icon>
                      <app-svg-icon
                        *ngIf="getStructureControl('nbPrinters').invalid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'notValidate'"
                        class="validationIcon"
                      ></app-svg-icon>
                    </ng-container>
                    <ng-container *ngIf="equipment.module.id == 'bornesNumeriques'">
                      <input
                        type="number"
                        (input)="setValidationsForm()"
                        formControlName="nbNumericTerminal"
                        min="0"
                        class="form-input nbEquipment"
                      />
                      <app-svg-icon
                        *ngIf="getStructureControl('nbNumericTerminal').valid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'validate'"
                        class="validationIcon"
                      ></app-svg-icon>
                      <app-svg-icon
                        *ngIf="getStructureControl('nbNumericTerminal').invalid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'notValidate'"
                        class="validationIcon"
                      ></app-svg-icon>
                    </ng-container>
                    <ng-container *ngIf="equipment.module.id == 'scanners'">
                      <input
                        type="number"
                        (input)="setValidationsForm()"
                        formControlName="nbScanners"
                        min="0"
                        class="form-input nbEquipment"
                      />
                      <app-svg-icon
                        *ngIf="getStructureControl('nbScanners').valid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'validate'"
                        class="validationIcon"
                      ></app-svg-icon>
                      <app-svg-icon
                        *ngIf="getStructureControl('nbScanners').invalid"
                        [iconClass]="'validation'"
                        [type]="'form'"
                        [icon]="'notValidate'"
                        class="validationIcon"
                      ></app-svg-icon>
                    </ng-container>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </ng-container>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureLabels" class="page">
        <div class="title">
          <h3>Quelle(s) labelisation proposez-vous ?</h3>
          <p class="notRequired">facultatif</p>
        </div>
        <div *ngIf="labelsQualifications" fxLayout="row wrap" fxLayoutGap="16px" fxLayoutAlign="flex-start">
          <app-checkbox-form
            *ngFor="let module of labelsQualifications.modules"
            [isChecked]="isInArray(module.id, labelsQualifications.id)"
            [text]="module.text"
            [iconSvg]="module.id"
            [iconType]="'labels'"
            (checkEvent)="onCheckChange($event, labelsQualifications.id, module.id)"
          >
          </app-checkbox-form>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureOtherServices" class="page">
        <div class="title">
          <h3>Quels autres services proposez-vous ?</h3>
          <p class="notRequired">facultatif</p>
        </div>
        <div *ngIf="labelsQualifications" fxLayout="row wrap" fxLayoutGap="16px" fxLayoutAlign="flex-start">
          <ng-container *ngFor="let equipment of equipmentsAndServices">
            <app-checkbox-form
              *ngIf="
                [
                  'donDeMateriels',
                  'reconditionnementsDeMateriel',
                  'accesLivresInformatiques',
                  'venteMaterielPrixSolidaire'
                ].includes(equipment.module.id)
              "
              [isChecked]="isInArray(equipment.module.id, 'equipmentsAndServices')"
              [text]="equipment.module.text"
              [iconSvg]="equipment.module.id"
              (checkEvent)="onCheckChange($event, 'equipmentsAndServices', equipment.module.id)"
            >
            </app-checkbox-form>
          </ng-container>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureDescription" class="page">
        <div class="title">
          <h3>Pouvez vous présentez votre structure ?</h3>
          <p class="notRequired">facultatif</p>
        </div>
        <div class="textareaBlock" fxLayout="column">
          <textarea
            rows="8"
            placeholder="Exemple : nous sommes une équipe de 7 bénévoles qui orientons les personnes pour qui le numérique est une langue étrangère"
            maxlength="500"
            formControlName="description"
          ></textarea>
          <p>
            {{ getStructureControl('description').value ? getStructureControl('description').value.length : 0 }}/500
          </p>
        </div>
      </div>
      <div *ngIf="currentPage == pageTypeEnum.structureCovidInfo" class="page">
        <div class="title">
          <h3>Y a-t-il des informations spécifiques à la période COVID ?</h3>
          <p class="notRequired">facultatif</p>
        </div>
        <div class="textareaBlock" fxLayout="column">
          <textarea
            rows="8"
            placeholder="Exemple : nous ne sommes joignables que par visio"
            maxlength="500"
            formControlName="lockdownActivity"
          ></textarea>
          <p>
            {{
              getStructureControl('lockdownActivity').value ? getStructureControl('lockdownActivity').value.length : 0
            }}/500
          </p>
        </div>
      </div>
    </form>
    <div *ngIf="currentPage == pageTypeEnum.cgu" class="page">
      <div class="section">
        <div class="title">
          <h3>
            Acceptez-vous que les informations saisies soient enregistrées par la Métropole de Lyon<span
              class="asterisk"
              >*</span
            >
            ?
          </h3>
        </div>
        <app-checkbox-form
          [isChecked]="userAcceptSavedDate"
          [text]="'J\'accepte'"
          (checkEvent)="acceptDataBeSaved($event)"
        >
        </app-checkbox-form>
      </div>
      <div *ngIf="!profile">
        <div class="title">
          <h3>Acceptez-vous de recevoir des mails d'informations de la part de Res'in ?</h3>
        </div>
        <app-checkbox-form
          [isChecked]="userAcceptNewsletter"
          [text]="'J\'accepte'"
          (checkEvent)="acceptReceiveNewsletter($event)"
        >
        </app-checkbox-form>
      </div>
      <p class="informationEndForm">
        <span class="asterisk">*</span> Les informations recueillies sont enregistrées dans un fichier par la Métropole
        de Lyon en vue de l'animation du réseau des acteurs de la médiation numérique. Elles sont conservées pendant 24
        mois et sont destinées aux seuls intervenants habilités de la Métropole de Lyon. Vos données personnelles sont
        traitées dans ce cadre aux fins de recensement des actions de médiation numérique sur le territoire de la
        métropole. Conformément à la loi 78-17 du 6 janvier 1978 modifiée relative à l'information, aux fichiers et aux
        libertés, et au Règlement Général européen à la Protection des Données, vous avez la possibilité d’exercer vos
        droits d’accès, de rectification, d’effacement, d’opposition, de limitation du traitement et de révocation de
        votre consentement. Afin d'exercer vos droits, vous pouvez vous adresser : par courrier postal à : Métropole de
        Lyon - Direction des Affaires Juridiques et de la Commande Publique - 20, rue du Lac - BP 33569 - 69505 Lyon
        Cedex par courrier électronique en remplissant le formulaire dédié sur Toodego, le site des services et
        démarches en ligne dans la Métropole de Lyon
      </p>
    </div>
    <div
      *ngIf="currentPage == nbPagesForm && !profile"
      class="page"
      fxLayout="column"
      fxLayoutAlign="center center"
      fxLayoutGap="69px"
    >
      <svg aria-hidden="true">
        <use [attr.xlink:href]="'assets/form/sprite.svg#emailVerification'"></use>
      </svg>
      <h3>Un courriel vous a été envoyé afin de valider votre inscription</h3>
    </div>
    <div *ngIf="currentPage == nbPagesForm && profile" class="lastPage">
      <div class="lastPage">
        <div class="title">
          <h3>
            Bravo !<br />
            Votre structure a bien été référencée.
          </h3>
        </div>

        <div class="structureInfoBlock" fxLayout="row" fxLayoutAlign="center">
          <div class="structureInfoContent" fxLayout="column">
            {{ getStructureControl('structureName').value }}
            <span>{{ getStructureControl('structureType').value }}</span>
          </div>
          <div class="validateSvg">
            <svg class="validate" aria-hidden="true">
              <use [attr.xlink:href]="'assets/form/sprite.svg#checkVector'"></use>
            </svg>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="currentPage != 0" class="footer desktop">
      <div fxLayout="row" fxLayoutAlign="center center" *ngIf="currentPage != nbPagesForm && !isEditMode">
        <app-footer-form
          [btnName]="['Précédent', 'Suivant']"
          (previousPage)="previousPage()"
          (nextPage)="nextPage()"
          [isValid]="isPageValid"
        ></app-footer-form>
      </div>
      <div fxLayout="row" fxLayoutAlign="center center" *ngIf="isEditMode">
        <button
          class="btn-primary"
          [ngClass]="{ invalid: !isPageValid }"
          [disabled]="!isPageValid"
          (click)="goToSpecificPage(0, true)"
        >
          Valider
        </button>
      </div>
      <button
        *ngIf="currentPage == nbPagesForm && !profile"
        class="btn-primary validate unique"
        routerLink="/acteurs"
        [routerLinkActive]="'active'"
      >
        Ok
      </button>
      <button
        *ngIf="currentPage == nbPagesForm && profile"
        class="btn-primary unique"
        routerLink="/acteurs"
        [queryParams]="{ id: createdStructure._id }"
        [state]="{ data: createdStructure }"
      >
        Voir ma structure
      </button>
    </div>
    <div *ngIf="isEditMode && currentPage == 0" class="footerEditMode">
      <div fxLayout="row" fxLayoutAlign="center center">
        <button class="btn-primary unique" (click)="closeEditMode()">Terminer</button>
      </div>
    </div>
  </div>
  <div *ngIf="currentPage != 0" class="footer phone">
    <div fxLayout="row" fxLayoutAlign="center center" *ngIf="currentPage != nbPagesForm && !isEditMode">
      <app-footer-form
        [btnName]="['Précédent', 'Suivant']"
        (previousPage)="previousPage()"
        (nextPage)="nextPage()"
        [isValid]="isPageValid"
      ></app-footer-form>
    </div>
    <div fxLayout="row" fxLayoutAlign="center center" *ngIf="isEditMode">
      <button
        class="btn-primary"
        [ngClass]="{ invalid: !isPageValid }"
        [disabled]="!isPageValid"
        (click)="goToSpecificPage(0, true)"
      >
        Valider
      </button>
    </div>
    <button
      *ngIf="currentPage == nbPagesForm && !profile"
      class="btn-primary validate unique"
      routerLink="/acteurs"
      [routerLinkActive]="'active'"
    >
      Ok
    </button>
    <button
      *ngIf="currentPage == nbPagesForm && profile"
      class="btn-primary unique"
      routerLink="/acteurs"
      [queryParams]="{ id: createdStructure._id }"
      [state]="{ data: createdStructure }"
    >
      Voir ma structure
    </button>
  </div>
  <app-signup-modal
    *ngIf="displaySignUp"
    [openned]="isPopUpOpen"
    (closed)="closeSignUpModal($event)"
  ></app-signup-modal>
</div>
