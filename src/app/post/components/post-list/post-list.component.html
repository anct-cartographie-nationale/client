<div *ngIf="!isPublishMode" class="section-container" fxLayout="row" fxLayoutGap="32px">
  <div fxLayout="column" class="list-container" fxLayoutGap="16px">
    <div fxLayout="column" *ngIf="displayTags()">
      <div fxLayout="row wrap" fxLayoutAlign="none center" fxLayoutGap="8px">
        <div
          fxLayout="row"
          fxLayoutAlign="start center"
          fxLayoutGap="9px"
          *ngFor="let filter of filters | slice: 1"
          class="tag"
          (click)="removeTag(filter)"
        >
          <p>{{ filter.slug | titlecase }}</p>
          <app-svg-icon [type]="'ico'" [iconColor]="'currentColor'" [icon]="'cancel'"></app-svg-icon>
        </div>
      </div>
    </div>
    <div fxLayout="column" *ngIf="isALaUneTag() && !displayTags()">
      <div fxLayout="row" class="row-border" fxLayoutAlign="space-between center">
        <h2>à la une</h2>
        <app-button
          [type]="'button'"
          [style]="'buttonWithHash'"
          [text]="'Publier votre actu'"
          (action)="togglePublishNews()"
        ></app-button>
      </div>
      <app-post-card [class]="'bigNew'" [post]="bigNews"></app-post-card>
    </div>
    <div fxLayout="column" fxLayoutAlign=" center" class="project-container mobile">
      <div class="background-project-container">
        <div class="project-content mobile" fxLayout="column">
          <h2>appels à projets</h2>
          <div *ngIf="projectsNew.length !== 0">
            <app-post-card
              [post]="news"
              [class]="'project'"
              [ngClass]="{ 'last-child': last }"
              *ngFor="let news of projectsNew; let last = last"
            ></app-post-card>
          </div>
          <div *ngIf="projectsNew.length === 0">
            <p>Aucun appels à projet pour le moment.</p>
          </div>
        </div>
      </div>
    </div>
    <div fxLayout="column">
      <div fxLayout="row" class="row-border" fxLayoutAlign="space-between center">
        <h2 [ngClass]="{ 'padding-16-Top': isALaUneTag() && !displayTags() }">{{ getDisplayedTag() }}</h2>
        <app-button
          *ngIf="displayTags() || !isALaUneTag()"
          [type]="'button'"
          [style]="'buttonWithHash'"
          [text]="'Publier votre actu'"
          (action)="publishNews()"
        ></app-button>
      </div>
      <div *ngIf="leftColumnPosts.length <= 0" fxLayout="column">
        <p>Aucun résultat ne correspond a votre recherche.</p>
      </div>
      <div fxLayout="row" fxLayoutGap="33px">
        <div fxLayout="column" class="columnPosts">
          <app-post-card [post]="news" *ngFor="let news of leftColumnPosts"></app-post-card>
        </div>
        <div fxLayout="column" class="columnPosts">
          <app-post-card [post]="news" *ngFor="let news of rightColumnPosts"></app-post-card>
        </div>
        <div fxLayout="column" class="columnPostsMobile">
          <app-post-card [post]="news" *ngFor="let news of postsMobileView"></app-post-card>
        </div>
      </div>
    </div>
  </div>
  <div fxLayout="column" fxLayoutAlign=" center" class="project-container desktop">
    <div class="background-project-container">
      <div class="project-content" fxLayout="column">
        <app-svg-icon [iconClass]="'icon-80'" [iconColor]="'inherit'" [type]="'post'" [icon]="'appels'"></app-svg-icon>
        <h2>appels à projets</h2>
        <div *ngIf="projectsNew.length !== 0">
          <app-post-card
            [post]="news"
            [class]="'project'"
            [ngClass]="{ 'last-child': last }"
            *ngFor="let news of projectsNew; let last = last"
          ></app-post-card>
        </div>
        <div *ngIf="projectsNew.length === 0">
          <p>Aucun appels à projet pour le moment.</p>
        </div>
      </div>
    </div>
  </div>
</div>
<app-post-publish *ngIf="isPublishMode" (closePublish)="togglePublishNews()"></app-post-publish>
